# javascript-racingcar

## 구현 할 기능 목록

1. 자동차 이름을 입력 받는다.

- [x] 쉼표를 기준으로 나눈다.
- [x] 이름의 앞, 뒤 공백은 제거한다.
- [x] 이름은 1자 이상 5자 이하로 제한한다.
- [x] 중복된 이름은 허용하지 않는다.
- [x] 자동차의 개수는 1대 이상 10대 이하로 제한한다.
- [x] 잘못된 입력을 받는 경우에는 에러 메세지를 출력한 후 해당 부분부터 다시 입력을 받는다.

2. 시도 할 횟수를 입력받는다.

- [x] 정수가 아닌 숫자는 제한한다.
- [x] 횟수는 1회 이상 100회 이하로 제한한다.
- [x] 잘못된 입력을 받는 경우에는 에러 메세지를 출력한 후 해당 부분부터 다시 입력을 받는다.

3. 주어진 횟수 동안 n 대의 자동차는 전진 또는 멈출 수 있다.

- [x] `실행 결과`라는 텍스트를 출력한다.
- [x] 무작위 값은 0에서 9까지의 정수 값을 구한다.
- [x] 무작위 값이 4 이상인 경우에만 전진한다.
- [x] 전진한 결과 값을 출력한다.

4. 최종 우승자를 출력한다.

- [x] 전진 횟수가 가장 높은 자동차를 구한다.
- [x] 우승자가 여러 명일 경우 쉼표로 구분하여 출력한다.

## 폴더 구조

```
📦src
 ┣ 📂constants
 ┃ ┗ 📜index.js // 상수 모음(도메인 규칙, 메세지들)
 ┣ 📂utils
 ┃ ┣ 📜format.js // 포맷 관련
 ┃ ┣ 📜format.test.js
 ┃ ┣ 📜math.js // 수학 함수 관련
 ┃ ┣ 📜math.test.js
 ┃ ┣ 📜predicate.js // 조건식 관련(boolean)
 ┃ ┣ 📜predicate.test.js
 ┃ ┣ 📜validation.js // 유효성 관련
 ┃ ┗ 📜validation.test.js
 ┣ 📂view
 ┃ ┣ 📜input.js // 인풋 관련
 ┃ ┗ 📜output.js // 아웃풋 관련
 ┣ 📜CustomError.js // 커스텀 에러
 ┣ 📜controller.js // 자동차 객체 컨트롤러(set, get)
 ┣ 📜index.js // 진입점
 ┗ 📜race.js // 레이싱 관련(전진 로직, 레이싱)
```

## 🤔 페어와 나눈 고민사항들

Q1. 입력을 받는 `readLineAsync` 함수는 utils 폴더에 넣어야 할까? view 폴더에 넣어야 할까?

> `readLineAsync` 함수는 현재 코드 기준으로는 `src/view/input.js` 경로에 포함되어 있습니다!

- 1번 의견: `readLineAsync` 함수는 입력 받는 코드에서 매번 가져다가 사용하는 함수이므로 utils에 들어가야 할 것 같다. view는 이러한 입출력 함수들을 사용하는 코드가 들어간다고 생각한다.

- 2번 의견: src 폴더 루트에 있는 utils 폴더는 관심사 구분 없이 조금 더 넓은 개념으로 어디서든 사용할 수 있을 것 같다는 느낌이 드는데(es-toolkit 같은 느낌..?) 입력을 받는 `readLineAsync` 함수는 view 폴더 안에서만 사용될 수 있다보니깐 가까운 관심사에 두는게 응집도, 유지보수 측면에서 이점이 있을 것 같다.

Q2. constants 폴더에 상수 범위가 그렇게 크지 않아서 한 파일에 다 넣었는데 이 때 파일명은 어떻게 하는게 좋을까?

- 1번 의견: `index.js` 보다는 `constants/constants.js`가 좋을 것 같다.

- 2번 의견: constants는 폴더 명에도 적혀있어서 `constants/index.js`로도 충분할 것 같다.

Q3. 유효성 검사 로직은 어디에 위치할 것인가?

> 현재 코드 기준으로는 `src/utils/validation.js` 경로에 포함되어 있습니다!

- 공통 의견: 유효성 검사에는 `validateCarNames`, `validateAttemptCount`와 같이 사용자 입력에 대한 유효성 검사를 진행해서 `input.js`에 가까이 있는게 응집도, 유지보수 측면에서 이점이 있을 것 같다. <br/>
  하지만 현재 폴더 구조에서는 view라는 관심사로 입출력 부분을 처리할 수 있게 나눴는데 유효성 검사는 view(입출력)에 해당되지 않으니깐 어색한 느낌이 있다.
